<div class="container base restab">
    <h1>Complete your booking:</h1>
</div>
<br>
<div class="FDefaultTab" style="padding: 20px;">

    {{#if user}}
    <form method="POST" action="/bookingInterface/bookForm/{{res_name}}">
        <div class="">
            <h3 class="title">Restaurant Booking:</h3>
            <hr>
            <div class="form-outline mb-4">
                <input type="date" id="datefield" name="bookingDate" class="form-control" value="2021-07-01" required />
                <label class="form-label" for="bookingDate">Select Date:</label>
            </div>
            <br>

            <div class="form-group">
                <label for="open_time">Select Time:</label>
                <input type='text' name="open_time" class="form-control" id="open_time" step="3600" required
                    value="{{booking.time}}" min="{{restaurant.open_time}}" max="{{restaurant.close_time}}" />
            </div>

            <br>
            <br>

            <div class="form-group">
                <div class="row">
                    <div class="col">
                        <div class="form-outline mb-4">
                            <input type="text" id="bookingFName" name="bookingFName" class="form-control"
                             required />
                            <label class="form-label" for="bookingFName">First Name:</label>
                        </div>

                    </div>
                    <div class="col">
                        <div class="form-outline mb-4">
                            <input type="text" id="bookingLName" name="bookingLName" class="form-control"
                             required />
                            <label class="form-label" for="bookingLName">Last Name:</label>
                        </div>
                    </div>
                </div>
            </div>
            <br>

            <div class="form-outline mb-4">
                <input type="email" id="bookingEmail" name="bookingEmail" class="form-control"
                    required />
                <label class="form-label" for="bookingEmail">Email:</label>
            </div>

            <br>

            <div class="form-outline mb-4">
                <input type="number" id="bookingPax" name="bookingPax" class="form-control" 
                    min=1 max=10  required/>
                <label class="form-label" for="bookingPax">Pax:</label>
            </div>
            <br>
            <br>
            <button type="submit" style="background-color:#433f39; border-color:#433f39"
                class="btn btn-primary btn-lg btn-block">Book!</button>
        </div>
    </form>

    {{else}}
    <h2 style="text-align: center;">Please login before trying to book</h2>
    {{/if}}
</div>
<br>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>
<link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />
<link href="https://cdn.jsdelivr.net/npm/smartwizard@5/dist/css/smart_wizard_all.min.css" rel="stylesheet"
    type="text/css" />
<script src="https://cdn.jsdelivr.net/npm/smartwizard@5/dist/js/jquery.smartWizard.min.js"
    type="text/javascript"></script>

<script>
    var today = new Date();
    var dd = today.getDate();
    var mm = today.getMonth() + 1; //January is 0!
    var yyyy = today.getFullYear();
    if (dd < 10) {
        dd = '0' + dd
    }
    if (mm < 10) {
        mm = '0' + mm
    }

    today = yyyy + '-' + mm + '-' + dd;
    document.getElementById("datefield").setAttribute("min", today);

    var today = new Date();
    var dd = today.getDate() + 14;
    var mm = today.getMonth() + 1; //January is 0!
    var yyyy = today.getFullYear();
    if (dd < 10) {
        dd = '0' + dd
    }
    if (mm < 10) {
        mm = '0' + mm
    }

    twoWeeks = yyyy + '-' + mm + '-' + dd;
    document.getElementById("datefield").setAttribute("max", twoWeeks);

    document.querySelector("datefield").valueAsDate = new Date();

    document.getElementById('datePicker').valueAsDate = new Date();



    $(function () {
        $('#open_time').timepicker
            ({
                format: 'HH:MM',
                uiLibrary: 'bootstrap4',
            });
    });
</script>